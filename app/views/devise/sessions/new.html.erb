<div class="col-md-6 col-md-offset-3">
  <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name), wrapper_mappings: {
                                check_boxes: :vertical_radio_and_checkboxes,
                                radio_buttons: :vertical_radio_and_checkboxes,
                                file: :vertical_file_input,
                                boolean: :vertical_boolean} ) do |f| %>
    <div class="panel panel-default">
      <div class="panel-heading">
        <h2>Log in</h2>
      </div>
      <div class="panel-body">
        <%= f.input :email, required: false, autofocus: true, input_html: { class: 'form-control' } %>
        <%= f.input :password, required: false, input_html: { class: 'form-control' }  %>


        <%=
            #f.input :remember_me, as: :boolean, :label => false, :inline_label => true if devise_mapping.rememberable?
        %>
        <%if devise_mapping.rememberable? %>
        <div class="checkbox">
          <label>
            <% #I could not get simple_form and bootstrap to play nicely together, so this is a workaround
              #using f.input_field instead of f.input strips the checkbox of the wrappers, and using boolean_style: :inline strips it of the label
              #and then I add the wrappers and the label back, as in the bootstrap spec%>
            <%= f.input_field :remember_me, as: :boolean, boolean_style: :inline %> Remember me
          </label>
        </div>
        <% end %>
      </div>
      <div class="panel-footer">
        <%= f.button :submit, "Log in", class: 'btn btn-primary' %>
      </div>
    </div>
  <% end %>
  <%= render "devise/shared/links" %>
</div>